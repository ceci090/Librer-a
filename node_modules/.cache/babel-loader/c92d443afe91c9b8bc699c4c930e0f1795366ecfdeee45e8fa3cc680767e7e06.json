{"ast":null,"code":"import React,{useState}from\"react\";import{getLibroPorId}from\"../api/libreriaMaterialService\";import\"../styles.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BuscarLibroPorId(){const[id,setId]=useState(\"\");const[libro,setLibro]=useState(null);const[error,setError]=useState(\"\");const esGuidValido=id=>{const regexGuid=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;return regexGuid.test(id);};const manejarBusqueda=async()=>{setError(\"\");setLibro(null);if(!id){setError(\"Por favor, ingresa un ID.\");return;}if(!esGuidValido(id)){setError(\"El ID debe tener formato GUID vÃ¡lido.\");return;}try{const resultado=await getLibroPorId(id);if(resultado.data){setLibro(resultado.data);setError(\"Libro encontrado.\");}else{setLibro(resultado);setError(\"Libro encontrado.\");}}catch(err){var _err$response,_err$response$data;console.error(err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"No se encontrÃ³ un libro con ese ID.\");}};const manejarLimpiar=()=>{setId(\"\");setLibro(null);setError(\"\");};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Buscar libro por ID\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-control\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ingresa ID del libro\",value:id,onChange:e=>setId(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:manejarBusqueda,children:\"Buscar\"}),(id||libro)&&/*#__PURE__*/_jsx(\"button\",{onClick:manejarLimpiar,style:{backgroundColor:\"#9ca3af\",boxShadow:\"none\"},title:\"Limpiar b\\xFAsqueda\",children:\"\\uD83E\\uDDF9 Limpiar\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:error===\"Libro encontrado.\"?\"success\":\"error\",children:error}),libro&&/*#__PURE__*/_jsxs(\"div\",{className:\"libro-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Datos del libro\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:\"none\",padding:0},children:Object.entries(libro).map(_ref=>{let[clave,valor]=_ref;return/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:\"8px\"},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[clave,\":\"]}),\" \",clave.toLowerCase().includes(\"fecha\")&&valor?new Date(valor).toLocaleDateString():typeof valor===\"object\"&&valor!==null?JSON.stringify(valor,null,2):(valor===null||valor===void 0?void 0:valor.toString())||\"N/A\"]},clave);})})]})]});}","map":{"version":3,"names":["React","useState","getLibroPorId","jsx","_jsx","jsxs","_jsxs","BuscarLibroPorId","id","setId","libro","setLibro","error","setError","esGuidValido","regexGuid","test","manejarBusqueda","resultado","data","err","_err$response","_err$response$data","console","response","message","manejarLimpiar","children","className","type","placeholder","value","onChange","e","target","onClick","style","backgroundColor","boxShadow","title","listStyleType","padding","Object","entries","map","_ref","clave","valor","marginBottom","toLowerCase","includes","Date","toLocaleDateString","JSON","stringify","toString"],"sources":["C:/libreria-frontend/src/components/BuscarLibroPorId.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { getLibroPorId } from \"../api/libreriaMaterialService\";\r\nimport \"../styles.css\";\r\n\r\nexport default function BuscarLibroPorId() {\r\n  const [id, setId] = useState(\"\");\r\n  const [libro, setLibro] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const esGuidValido = (id) => {\r\n    const regexGuid = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\r\n    return regexGuid.test(id);\r\n  };\r\n\r\n  const manejarBusqueda = async () => {\r\n    setError(\"\");\r\n    setLibro(null);\r\n\r\n    if (!id) {\r\n      setError(\"Por favor, ingresa un ID.\");\r\n      return;\r\n    }\r\n\r\n    if (!esGuidValido(id)) {\r\n      setError(\"El ID debe tener formato GUID vÃ¡lido.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const resultado = await getLibroPorId(id);\r\n      if (resultado.data) {\r\n        setLibro(resultado.data);\r\n        setError(\"Libro encontrado.\");\r\n      } else {\r\n        setLibro(resultado);\r\n        setError(\"Libro encontrado.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(err.response?.data?.message || \"No se encontrÃ³ un libro con ese ID.\");\r\n    }\r\n  };\r\n\r\n  const manejarLimpiar = () => {\r\n    setId(\"\");\r\n    setLibro(null);\r\n    setError(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      \r\n\r\n      \r\n      <h2>Buscar libro por ID</h2>\r\n      <div className=\"form-control\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Ingresa ID del libro\"\r\n          value={id}\r\n          onChange={(e) => setId(e.target.value)}\r\n        />\r\n        <button onClick={manejarBusqueda}>Buscar</button>\r\n\r\n        {(id || libro) && (\r\n          <button\r\n            onClick={manejarLimpiar}\r\n            style={{ backgroundColor: \"#9ca3af\", boxShadow: \"none\" }}\r\n            title=\"Limpiar bÃºsqueda\"\r\n          >\r\n            ðŸ§¹ Limpiar\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {error && (\r\n        <div className={error === \"Libro encontrado.\" ? \"success\" : \"error\"}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {libro && (\r\n        <div className=\"libro-info\">\r\n          <h3>Datos del libro</h3>\r\n          <ul style={{ listStyleType: \"none\", padding: 0 }}>\r\n            {Object.entries(libro).map(([clave, valor]) => (\r\n              <li key={clave} style={{ marginBottom: \"8px\" }}>\r\n                <strong>{clave}:</strong>{\" \"}\r\n                {clave.toLowerCase().includes(\"fecha\") && valor\r\n                  ? new Date(valor).toLocaleDateString()\r\n                  : typeof valor === \"object\" && valor !== null\r\n                  ? JSON.stringify(valor, null, 2)\r\n                  : valor?.toString() || \"N/A\"}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}